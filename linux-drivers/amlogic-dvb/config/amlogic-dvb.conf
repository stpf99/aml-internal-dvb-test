# Amlogic DVB Runtime Configuration
# File: amlogic-dvb/config/amlogic-dvb.conf
# Location: /storage/.config/amlogic-dvb.conf (user-editable)

# ============================================================================
# Transport Stream Mode
# ============================================================================
# This is the most important setting!
# 0 = Auto-detect (tries serial first, then parallel)
# 1 = Serial mode (single data line) - DEFAULT for most GXL boxes
# 2 = Parallel mode (8 data lines) - rare, for some professional equipment
#
# For Mecool M8S Plus DVB-S2X: use 1 (serial)
TS_MODE=1

# TS Clock Polarity
# 0 = Normal (data on rising edge)
# 1 = Inverted (data on falling edge)
TS_CLK_POL=0

# ============================================================================
# Debug Settings
# ============================================================================
# Debug level: 0-5
# 0 = Errors only
# 1 = Warnings + Errors (default)
# 2 = Info + Warnings + Errors
# 3 = Debug + Info + Warnings + Errors
# 4 = Verbose debug
# 5 = Everything (very noisy!)
DEBUG_LEVEL=1

# Enable debug for specific components
# 0 = disabled, 1 = enabled
DEBUG_DVB=0       # Core DVB driver
DEBUG_DMX=0       # Demultiplexer
DEBUG_TS=0        # Transport Stream
DEBUG_FRONTEND=0  # Frontend/tuner

# ============================================================================
# Hardware Features
# ============================================================================
# Enable hardware descrambler (for CAM/CI cards)
# 0 = disabled, 1 = enabled
ENABLE_DSC=0

# DMA buffer size in KB (default: 188)
# Larger = better for high bitrate streams, more memory usage
# Range: 32-1024
DMA_BUFFER_SIZE=188

# ============================================================================
# Frontend Settings
# ============================================================================
# Frontend I2C bus (usually 0 for AO I2C)
FRONTEND_I2C_BUS=0

# Frontend I2C address (device-specific)
# M88RS6060: 0x69
# AVL6211: 0x60
FRONTEND_I2C_ADDR=0x69

# Frontend reset delay in milliseconds
FRONTEND_RESET_DELAY=100

# ============================================================================
# Tuner Settings (for satellite)
# ============================================================================
# LNB power voltage (for DVB-S/S2)
# 13000 = 13V (vertical polarization / right circular)
# 18000 = 18V (horizontal polarization / left circular)
LNB_VOLTAGE=13000

# LNB 22kHz tone (for band switching)
# 0 = off (low band, 10.7-11.7 GHz)
# 1 = on (high band, 11.7-12.75 GHz)
LNB_22KHZ=0

# DiSEqC support
# 0 = disabled
# 1 = DiSEqC 1.0 (4 satellites)
# 2 = DiSEqC 1.1 (16 satellites)
# 3 = DiSEqC 1.2 (motor control)
DISEQC_MODE=1

# ============================================================================
# Performance Tuning
# ============================================================================
# IRQ coalescing (microseconds)
# Lower = more responsive, higher CPU usage
# Higher = less CPU usage, might miss packets
# Range: 100-10000, default: 1000
IRQ_COALESCE=1000

# Enable DMA scatter-gather
# 0 = disabled (single buffer)
# 1 = enabled (better for high bitrate)
DMA_SG=1

# ============================================================================
# Compatibility Workarounds
# ============================================================================
# Some boxes have hardware quirks - these workarounds help

# Reset hardware on module load
RESET_ON_LOAD=1

# Delay after hardware reset (milliseconds)
RESET_DELAY=200

# Force serial mode even if auto-detect finds parallel
FORCE_SERIAL=0

# Ignore I2C errors (some frontends are flaky)
IGNORE_I2C_ERRORS=0

# ============================================================================
# Advanced Settings (don't change unless you know what you're doing!)
# ============================================================================
# Hardware register base address (auto-detected from device tree)
# HW_BASE=0xc8006000

# Maximum number of PIDs to filter
# MAX_PIDS=256

# Enable hardware CRC check
# HW_CRC=1
